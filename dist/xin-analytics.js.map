{"version":3,"sources":["webpack:///./index.js","webpack:///../xin/src/index.js","webpack:///../xin/src/repository.js","webpack:///../xin/src/component.js","webpack:///../xin/src/fx.js","webpack:///../xin/src/setup.js","webpack:///../xin/src/object.js","webpack:///../template-binding/src/index.js","webpack:///../template-binding/src/expr.js","webpack:///../template-binding/src/binding.js","webpack:///../template-binding/src/accessor.js","webpack:///../template-binding/src/annotation.js","webpack:///../template-binding/src/filter.js","webpack:///../template-binding/src/token.js","webpack:///../template-binding/src/event.js","webpack:///../template-binding/src/serializer.js","webpack:///../xin/src/async.js","webpack:///../xin/src/debounce.js"],"names":["XinAnalytics","window","cordova","platformId","isCordova","load","startPageTracking","document","addEventListener","analytics","startTrackerWithId","trackerId","trackView","location","href","ga","__app","on","evt","detail","uri","category","action","label","value","eventCategory","eventAction","eventLabel","eventValue","type","String","required","loaded","i","s","o","g","r","a","m","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","Component","define","xin","id","put","base","object","setup","filter","Filter","event","Event","Fx","Async","Debounce","templateId","nextId","SLOT_SUPPORTED","HTMLUnknownElement","slotName","element","name","getAttribute","fixTemplate","template","content","HTMLTemplateElement","decorate","T","host","marker","__templateInitialize","__templateRender","prototype","$","__templateHost","$$","selector","querySelector","off","all","obj","hasOwnProperty","set","get","path","__templateGetPathAsArray","some","undefined","segment","oldValue","slice","forEach","property","pop","notify","__templateGetPathAsString","__templateReady","__templateNotifyOnReady","indexOf","binding","__templateGetBinding","walkEffect","__templateId","__templateBindings","parentElement","__templateMarker","__template","__templateChildNodes","__templateFragment","importNode","__parseAnnotations","createComment","appendChild","contentFragment","key","fragment","DocumentFragment","call","querySelectorAll","slot","parent","removeChild","node","__templateUninitialize","split","join","childNodes","len","length","nodeType","Node","ELEMENT_NODE","__parseElementAnnotations","TEXT_NODE","__parseTextAnnotations","__parseEventAnnotations","attrName","attrValue","eventName","context","expr","getFn","invoke","__parseAttributeAnnotations","annotated","attributes","attr","__templateAnnotate","scoped","__templateModel","childNodesLength","__parseNodeAnnotations","textContent","accessor","constant","val","annotation","fn","annotations","vpaths","arg","segments","bindings","paths","Accessor","Token","Expr","deserialize"],"mappings":";;;;;;;;;;;;AAAA;;;;;;;;;;;;KAEMA,Y;;;;;;;;;;;gCAyBQ;AAAA;;AACV,WAAI,OAAOC,OAAOC,OAAd,KAA0B,WAA1B,IAAyCD,OAAOC,OAAP,CAAeC,UAAf,KAA8B,SAA3E,EAAsF;AACpF,cAAKC,SAAL,GAAiB,KAAjB;;AAEAJ,sBAAaK,IAAb;;AAEA,cAAKC,iBAAL;AACA;AACD;;AAED,YAAKF,SAAL,GAAiB,IAAjB;AACAG,gBAASC,gBAAT,CAA0B,aAA1B,EAAyC,YAAM;AAC7C,aAAIP,OAAOQ,SAAX,EAAsB;AACpB,kBAAKH,iBAAL;AACD;AACF,QAJD,EAIG,IAJH;AAKD;;;yCAEoB;AACnB,WAAI,KAAKF,SAAT,EAAoB;AAClBH,gBAAOQ,SAAP,CAAiBC,kBAAjB,CAAoC,KAAKC,SAAzC;AACAV,gBAAOQ,SAAP,CAAiBG,SAAjB,CAA2BX,OAAOY,QAAP,CAAgBC,IAA3C;AACD,QAHD,MAGO;AACLb,gBAAOc,EAAP,CAAU,QAAV,EAAoB,KAAKJ,SAAzB,EAAoC,MAApC;AACA,cAAKK,KAAL,CAAWC,EAAX,CAAc,WAAd,EAA2B,eAAO;AAChChB,kBAAOc,EAAP,CAAU,MAAV,EAAkB,UAAlB,EAA8BG,IAAIC,MAAJ,CAAWC,GAAzC;AACD,UAFD;AAGD;AACF;;;+BAEUC,Q,EAAUC,M,EAAQC,K,EAAOC,K,EAAO;AACzCvB,cAAOc,EAAP,CAAU,MAAV,EAAkB,OAAlB,EAA2B;AACzBU,wBAAeJ,QADU;AAEzBK,sBAAaJ,MAFY;AAGzBK,qBAAYJ,KAHa;AAIzBK,qBAAYJ;AAJa,QAA3B;AAMD;;;yBA9CY;AACX,cAAO;AACLb,oBAAW;AACTkB,iBAAMC,MADG;AAETC,qBAAU;AAFD;AADN,QAAP;AAMD;;;4BAtBc;AACb,WAAI/B,aAAagC,MAAjB,EAAyB;AACvB;AACD;;AAED;AACA,QAAC,UAASC,CAAT,EAAWC,CAAX,EAAaC,CAAb,EAAeC,CAAf,EAAiBC,CAAjB,EAAmBC,CAAnB,EAAqBC,CAArB,EAAuB;AAACN,WAAE,uBAAF,IAA2BI,CAA3B,CAA6BJ,EAAEI,CAAF,IAAKJ,EAAEI,CAAF,KAAM,YAAU;AACvE,YAACJ,EAAEI,CAAF,EAAKG,CAAL,GAAOP,EAAEI,CAAF,EAAKG,CAAL,IAAQ,EAAhB,EAAoBC,IAApB,CAAyBC,SAAzB;AAAoC,UADc,EACbT,EAAEI,CAAF,EAAKM,CAAL,GAAO,IAAE,IAAIC,IAAJ,EADI,CACON,IAAEJ,EAAEW,aAAF,CAAgBV,CAAhB,CAAF,EACzDI,IAAEL,EAAEY,oBAAF,CAAuBX,CAAvB,EAA0B,CAA1B,CADuD,CAC1BG,EAAES,KAAF,GAAQ,CAAR,CAAUT,EAAEU,GAAF,GAAMZ,CAAN,CAAQG,EAAEU,UAAF,CAAaC,YAAb,CAA0BZ,CAA1B,EAA4BC,CAA5B;AACpD,QAHD,EAGGtC,MAHH,EAGUM,QAHV,EAGmB,QAHnB,EAG4B,+CAH5B,EAG4E,IAH5E;AAIA;;AAEAP,oBAAagC,MAAb,GAAsB,IAAtB;AACD;;;;GAdwB,cAAImB,S;;AAiE/B,eAAIC,MAAJ,CAAW,eAAX,EAA4BpD,YAA5B;;mBAEeA,Y;;;;;;;;;;;;;;ACrEf;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,KAAI,QAAOC,OAAOoD,GAAd,MAAsB,QAA1B,EAAoC;AAClC,mBAAMhD,IAAN,CAAWJ,OAAOoD,GAAlB;AACD;;AAED,KAAMA,MAAM,SAANA,GAAM,CAACC,EAAD;AAAA,UAAQ,qBAAIA,EAAJ,CAAR;AAAA,EAAZ;;AAEAD,KAAIE,GAAJ;AACAF,KAAIF,SAAJ;AACAE,KAAID,MAAJ;AACAC,KAAIG,IAAJ;AACAH,KAAII,MAAJ;AACAJ,KAAIK,KAAJ;AACAL,KAAIM,MAAJ,GAAa,0BAAEC,MAAf;AACAP,KAAIQ,KAAJ,GAAY,0BAAEC,KAAd;AACAT,KAAIU,EAAJ;AACAV,KAAIW,KAAJ;AACAX,KAAIY,QAAJ;;AAEAhE,QAAOoD,GAAP,GAAaA,GAAb;;mBAEeA,G;;;;;;AC7Bf;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA,SAAQ;;;;;;;ACzBR;AACA,SAAQ,MAAM;AACd;AACA,SAAQ,UAAU;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,uDAAsD,QAAQ;;AAE9D;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,qDAAoD,QAAQ;;AAE5D;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,wDAAuD,QAAQ,GAAG,6CAA6C;;AAE/G;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA,8BAA6B,QAAQ,GAAG,UAAU,oBAAoB,SAAS;AAC/E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAA+B,MAAM;AACrC,YAAW;AACX,UAAS;AACT;AACA,gCAA+B,MAAM;AACrC,YAAW;AACX;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oDAAmD,MAAM,cAAc,EAAE;AACzE;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,SAAQ;;;;;;;ACtWR;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW;AACX;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW;AACX;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP,MAAK;AACL,IAAG;AACH;;AAEA;;;;;;;AC3FA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACRA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG,IAAI;AACP;;AAEA,iBAAgB;;;;;;;;;;;;;ACVhB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,KAAIa,aAAa,CAAjB;AACA,UAASC,MAAT,GAAmB;AAC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AACA,MAAK;AACL;AACA;;AAEA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6EAA4E,cAAc;AAC1F;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACpIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,KAAK;AAChB,YAAW,OAAO;AAClB,YAAW,KAAK;AAChB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,qDAAqD;AACtE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,cAAa,aAAa;AAC1B;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,aAAa;AACxB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,YAAW,SAAS;AACpB,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,kCAAiC,GAAG;AACpC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,cAAa,mBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,aAAa;AACxB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,aAAa;AACxB,YAAW,OAAO;AAClB,YAAW,SAAS;AACpB,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC1ZA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mCAAkC;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAQ;;;;;;;ACxER;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAQ;AACR;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACjFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"xin-analytics.js","sourcesContent":["import xin from 'xin';\n\nclass XinAnalytics extends xin.Component {\n  static load () {\n    if (XinAnalytics.loaded) {\n      return;\n    }\n\n    /* eslint-disable */\n    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n    /* eslint-enable */\n\n    XinAnalytics.loaded = true;\n  }\n\n  get props () {\n    return {\n      trackerId: {\n        type: String,\n        required: true,\n      },\n    };\n  }\n\n  attached () {\n    if (typeof window.cordova === 'undefined' || window.cordova.platformId === 'browser') {\n      this.isCordova = false;\n\n      XinAnalytics.load();\n\n      this.startPageTracking();\n      return;\n    }\n\n    this.isCordova = true;\n    document.addEventListener('deviceready', () => {\n      if (window.analytics) {\n        this.startPageTracking();\n      }\n    }, true);\n  }\n\n  startPageTracking () {\n    if (this.isCordova) {\n      window.analytics.startTrackerWithId(this.trackerId);\n      window.analytics.trackView(window.location.href);\n    } else {\n      window.ga('create', this.trackerId, 'none');\n      this.__app.on('navigated', evt => {\n        window.ga('send', 'pageview', evt.detail.uri);\n      });\n    }\n  }\n\n  sendEvent (category, action, label, value) {\n    window.ga('send', 'event', {\n      eventCategory: category,\n      eventAction: action,\n      eventLabel: label,\n      eventValue: value,\n    });\n  }\n}\n\nxin.define('xin-analytics', XinAnalytics);\n\nexport default XinAnalytics;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import { get, put } from './repository';\nimport { Component, base, define } from './component';\nimport Fx from './fx';\nimport setup from './setup';\nimport object from './object';\nimport T from 'template-binding';\nimport Async from './async';\nimport Debounce from './debounce';\n\nif (typeof window.xin === 'object') {\n  setup.load(window.xin);\n}\n\nconst xin = (id) => get(id);\n\nxin.put = put;\nxin.Component = Component;\nxin.define = define;\nxin.base = base;\nxin.object = object;\nxin.setup = setup;\nxin.filter = T.Filter;\nxin.event = T.Event;\nxin.Fx = Fx;\nxin.Async = Async;\nxin.Debounce = Debounce;\n\nwindow.xin = xin;\n\nexport default xin;\n\n\n\n// WEBPACK FOOTER //\n// ../xin/src/index.js","const REPOSITORY = {};\n\nfunction get (id) {\n  if (!isNaN(id)) {\n    return REPOSITORY[id];\n  }\n\n  if (REPOSITORY[id]) {\n    return REPOSITORY[id];\n  }\n\n  var idSplitted = id.split('.');\n  var scope = window;\n  idSplitted.find(function (token) {\n    scope = scope[token];\n    return !scope;\n  });\n\n  return scope;\n}\n\nfunction put (id, value) {\n  REPOSITORY[id] = value;\n}\n\nexport { get, put };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../xin/src/repository.js\n// module id = 2\n// module chunks = 0","import T from 'template-binding';\nimport { put } from './repository';\nimport object from './object';\nimport { dashify } from './inflector';\nimport Async from './async';\nimport Debounce from './debounce';\nimport setup from './setup';\n\nlet componentId = 0;\nfunction nextId () {\n  return componentId++;\n}\n\nlet baseComponents = {};\n\nfunction base (base) {\n  if (baseComponents[base]) {\n    return baseComponents[base];\n  }\n\n  class Component extends window[base] {\n    get $ () {\n      return this.__templateHost.getElementsByTagName('*');\n    }\n\n    created () {}\n\n    ready () {}\n\n    attached () {}\n\n    createdCallback () {\n      if (setup.get('debug')) console.info(`CREATED ${this.is}`);\n\n      this.__id = nextId();\n      put(this.__id, this);\n      this.setAttribute('xin-id', this.__id);\n\n      this.created();\n\n      this.__initData();\n\n      this.__initTemplate();\n\n      this.__initProps();\n\n      this.__initListeners();\n\n      this.async(this.readyCallback);\n    }\n\n    readyCallback () {\n      this.__componentReady = true;\n\n      if (setup.get('debug')) console.info(`READY ${this.is}`);\n\n      let contentFragment;\n\n      if (this.__template) {\n        contentFragment = document.createDocumentFragment();\n        [].slice.call(this.childNodes).forEach(node => {\n          if (node === this.__templateMarker) return;\n          contentFragment.appendChild(node);\n        });\n      }\n\n      this.__templateRender(contentFragment);\n\n      this.ready();\n\n      if (this.__componentAttaching) {\n        this.attachedCallback();\n      }\n    }\n\n    attachedCallback () {\n      this.__componentAttaching = true;\n\n      if (!this.__componentReady) {\n        return;\n      }\n\n      if (setup.get('debug')) console.info(`ATTACHED ${this.is} ${this.__componentAttaching ? '(delayed)' : ''}`);\n\n      this.attached();\n\n      this.__componentAttaching = false;\n    }\n\n    get __app () {\n      if (!this.__app$) {\n        if (this.__appSignature) {\n          this.__app$ = this;\n        } else {\n          let app = this.parentElement;\n          while (app && !app.__appSignature) {\n            app = app.parentElement;\n          }\n          this.__app$ = app;\n        }\n      }\n\n      return this.__app$;\n    }\n\n    __initData () {\n      this.__componentContent = [];\n      this.__componentDebouncers = {};\n      this.__componentNotifiers = {};\n      this.__componentReady = false;\n      this.__componentAttaching = false;\n    }\n\n    __initProps () {\n      for (let propName in this.props) {\n        // exclude prototype properties\n        // if (!Object.prototype.hasOwnProperty.call(this.props, propName)) {\n        //   continue;\n        // }\n\n        let property = this.props[propName];\n        let attrName = dashify(propName);\n\n        let propValue;\n\n        if ('computed' in property) {\n          let accessor = T.Accessor.get(this, propName);\n          let expr = T.Expr.getFn(property.computed, [], true);\n          this.__templateAnnotate(expr, accessor);\n\n          // compute value of computed prop\n          propValue = expr.invoke(this);\n        } else if (this.hasAttribute(attrName)) {\n          let attrVal = this.getAttribute(attrName);\n\n          // copy value from attribute to property\n          // fallback to property.value\n          let expr = T.Expr.get(attrVal);\n          if (expr.type === 's') {\n            propValue = T.deserialize(attrVal, property.type);\n          }\n        } else if ('value' in property) {\n          propValue = object.v(property.value);\n        }\n\n        // when property is undefined, log error when property is required otherwise assign to default value\n        if (property.required && propValue === undefined /* (propValue === undefined || propValue === null) */) {\n          throw new Error(`${this.is}:${this.__id} missing required ${propName}`);\n        }\n\n        if ('observer' in property) {\n          let expr = T.Expr.getFn(property.observer, [ propName ], true);\n          this.__templateAnnotate(expr);\n        }\n\n        if ('notify' in property) {\n          this.__templateGetBinding(propName).annotations.push(new NotifyAnnotation(this, propName));\n        }\n\n        // set and force notify for the first time\n        this[propName] = propValue;\n        this.notify(propName, propValue);\n      }\n    }\n\n    __initTemplate () {\n      let template;\n\n      if (this.childElementCount === 1 && this.firstElementChild.nodeName === 'TEMPLATE' && !this.firstElementChild.hasAttribute('is')) {\n        // when instance template exist detach from component content\n        template = this.firstElementChild;\n        this.removeChild(template);\n      } else if (this.template) {\n        // create new template based on template property\n        template = document.createElement('template');\n        template.innerHTML = this.template;\n      }\n\n      this.__templateInitialize(template, this);\n    }\n\n    __initListeners () {\n      if (!this.listeners) {\n        return;\n      }\n\n      Object.keys(this.listeners).forEach(key => {\n        let meta = parseListenerMetadata(key);\n        let expr = T.Expr.getFn(this.listeners[key], [], true);\n        if (meta.selector) {\n          this.on(meta.eventName, meta.selector, evt => {\n            expr.invoke(this, { evt });\n          });\n        } else {\n          this.on(meta.eventName, evt => {\n            expr.invoke(this, { evt });\n          });\n        }\n      });\n    }\n\n    __addNotifier (eventName) {\n      if (this.__componentNotifiers[eventName]) {\n        return;\n      }\n\n      this.__componentNotifiers[eventName] = (evt) => {\n        let element = evt.target;\n\n        if (element.__templateModel !== this) {\n          return;\n        }\n\n        evt.stopImmediatePropagation();\n        switch (eventName) {\n          case 'input':\n            element.__templateModel.set(element.__templateNotifyKey, element.value);\n            break;\n          case '-notify':\n            element.__templateModel.set(evt.detail.name, evt.detail.value);\n            break;\n          default:\n            throw new Error('Unimplemented');\n        }\n      };\n\n      this.on(eventName, this.__componentNotifiers[eventName]);\n    }\n\n    __removeNotifier (eventName) {\n      if (!this.__componentNotifiers[eventName]) {\n        return;\n      }\n\n      this.off(eventName, this.__componentNotifiers[eventName]);\n      this.__componentNotifiers[eventName] = null;\n    }\n\n    fire (type, detail, options) {\n      return T.Event(this).fire(type, detail, options);\n    }\n\n    async (callback, waitTime) {\n      return Async.run(this, callback, waitTime);\n    }\n\n    debounce (job, callback, wait, immediate) {\n      let debouncer = this.__componentDebouncers[job];\n      if (debouncer && debouncer.running) {\n        debouncer.cancel();\n      } else {\n        debouncer = this.__componentDebouncers[job] = new Debounce(this, immediate);\n      }\n      debouncer.start(callback, wait);\n\n      return debouncer;\n    }\n\n    // T overriden\n    // -------------------------------------------------------------------------\n    //\n\n    __templateAnnotate (expr, accessor) {\n      if (!T.prototype.__templateAnnotate.call(this, expr, accessor)) {\n        return false;\n      }\n\n      // register event notifier\n      if (expr.mode === '{' && expr.type === 'p' && accessor.node instanceof window.HTMLElement) {\n        switch (accessor.node.nodeName) {\n          case 'INPUT':\n          case 'TEXTAREA':\n            if (accessor.name === 'value') {\n              accessor.node.__templateNotifyKey = expr.name;\n              this.__addNotifier('input');\n            }\n            break;\n          default:\n            // register event for custom notifier\n            this.__addNotifier('-notify');\n            break;\n        }\n      }\n\n      return true;\n    }\n\n  }\n\n  let tproto = T.prototype;\n  for (let key in tproto) {\n    // exclude __templateAnnotate because will be override\n    if (!tproto.hasOwnProperty(key)) {\n      continue;\n    }\n\n    if (key === '$' || key === '__templateAnnotate') {\n      continue;\n    }\n\n    Component.prototype[key] = tproto[key];\n  }\n\n  baseComponents[base] = Component;\n\n  return Component;\n}\n\nclass NotifyAnnotation {\n  constructor (model, name) {\n    let expr = T.Expr.get(model.getAttribute(name));\n    this.model = model;\n    this.name = expr.name;\n  }\n\n  effect (value) {\n    this.model.fire('-notify', {\n      name: this.name,\n      value: value,\n    });\n  }\n}\n\nfunction parseListenerMetadata (key) {\n  key = key.trim();\n\n  let splitted = key.split(' ');\n  let metadata = {\n    key: key,\n    eventName: splitted[0],\n    selector: splitted[1] ? splitted.slice(1).join(' ') : null,\n  };\n\n  return metadata;\n}\n\nfunction define (name, Component, options) {\n  // TODO please make it happen for v1\n  // if (window.customElements) {\n  //   // throw new Error('Unimplemented webcomponents v1');\n  //   window.customElements.define(name, Component, options);\n  //   return Component;\n  // }\n\n  let ElementPrototype = {\n    prototype: Object.create(Component.prototype, { is: { value: name } }),\n    extends: (options && options.extends) ? options.extends : undefined,\n  };\n\n  let ElementClass = document.registerElement(name, ElementPrototype);\n\n  put(name, ElementClass);\n\n  return ElementClass;\n}\n\nconst Component = base('HTMLElement');\n\nexport { Component, base, define };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../xin/src/component.js\n// module id = 3\n// module chunks = 0","import T from 'template-binding';\nimport Async from './async';\n\nimport '../css/transition-animate.css';\n\nclass Fx {\n  static add (name, transition) {\n    adapters[name] = transition;\n  }\n\n  static get (name) {\n    return adapters[name] || adapters.none;\n  }\n\n  constructor (element, transition) {\n    this.element = element;\n    this.duration = 0;\n    this.transition = transition || element.transition || 'none';\n\n    var merged = Fx.get(this.transition);\n    for (var i in merged) {\n      if (typeof merged[i] === 'function') {\n        this[i] = merged[i];\n      }\n    }\n  }\n\n  play (method, direction) {\n    return this[method](direction);\n  }\n}\n\nconst adapters = {\n  'none': {\n    in: () => Promise.resolve(),\n    out: () => Promise.resolve(),\n  },\n  'transition-slide': {\n    in (direction) {\n      var directionClass = direction > 0 ? 'transition-slide-in-right' : 'transition-slide-in-left';\n\n      return new Promise((resolve) => {\n        var onEnd = () => {\n          T.Event(this.element).off('transitionend', onEnd);\n\n          this.element.classList.remove('transition-slide-animate');\n\n          resolve();\n\n          Async.nextFrame(() => {\n            this.element.classList.remove(directionClass);\n            this.element.classList.remove('transition-slide-in');\n          });\n        };\n\n        T.Event(this.element).on('transitionend', onEnd);\n        this.element.classList.add(directionClass);\n\n        Async.nextFrame(() => {\n          this.element.classList.add('transition-slide-animate');\n          Async.nextFrame(() => this.element.classList.add('transition-slide-in'));\n        });\n      });\n    },\n    out (direction) {\n      var directionClass = direction > 0 ? 'transition-slide-out-left' : 'transition-slide-out-right';\n      return new Promise((resolve) => {\n        let onEnd = () => {\n          T.Event(this.element).off('transitionend', onEnd);\n          this.element.classList.remove('transition-slide-animate');\n\n          resolve();\n\n          Async.nextFrame(() => {\n            this.element.classList.remove(directionClass);\n            this.element.classList.remove('transition-slide-out');\n          });\n        };\n\n        T.Event(this.element).on('transitionend', onEnd);\n        this.element.classList.add(directionClass);\n\n        Async.nextFrame(() => {\n          this.element.classList.add('transition-slide-animate');\n          Async.nextFrame(() => this.element.classList.add('transition-slide-out'));\n        });\n      });\n    },\n  },\n};\n\nexport default Fx;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../xin/src/fx.js\n// module id = 4\n// module chunks = 0","const setup = new Map();\n\nsetup.load = obj => {\n  for (let i in obj) {\n    setup.set(i, obj[i]);\n  }\n};\n\nexport default setup;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../xin/src/setup.js\n// module id = 5\n// module chunks = 0","function v (value, ...args) {\n  return typeof value === 'function' ? value(...args) : value;\n}\n\nfunction mix (...objects) {\n  return objects.reduce((result, o) => {\n    for (let i in o) result[i] = o[i];\n  }, {});\n}\n\nexport default { v, mix };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../xin/src/object.js\n// module id = 6\n// module chunks = 0","import Expr from './expr';\nimport Binding from './binding';\nimport Accessor from './accessor';\nimport Annotation from './annotation';\nimport Filter from './filter';\nimport Token from './token';\nimport Event from './event';\nimport { deserialize } from './serializer';\n\nlet templateId = 0;\nfunction nextId () {\n  return templateId++;\n}\n\nconst SLOT_SUPPORTED = (typeof window === 'undefined')\n  ? false\n  : 'HTMLUnknownElement' in window && !(document.createElement('slot') instanceof window.HTMLUnknownElement);\n\nfunction slotName (element) {\n  return SLOT_SUPPORTED ? element.name : element.getAttribute('name');\n}\n\nfunction fixTemplate (template) {\n  if (!template.content && window.HTMLTemplateElement && window.HTMLTemplateElement.decorate) {\n    window.HTMLTemplateElement.decorate(template);\n  }\n  return template;\n}\n\nfunction T (template, host, marker) {\n  this.__templateInitialize(template, host, marker);\n  this.__templateRender();\n}\n\nT.prototype = {\n  get $ () {\n    return this.__templateHost.getElementsByTagName('*');\n  },\n\n  $$ (selector) {\n    return this.querySelector(selector);\n  },\n\n  on () {\n    Event(this.__templateHost).on(...arguments);\n  },\n\n  off () {\n    Event(this.__templateHost).off(...arguments);\n  },\n\n  all (obj) {\n    for (let i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        this.set(i, obj[i]);\n      }\n    }\n  },\n\n  get (path) {\n    let object = this;\n\n    this.__templateGetPathAsArray(path).some(segment => {\n      if (object === undefined || object === null) {\n        object = undefined;\n        return true;\n      }\n\n      object = object[segment];\n      return false;\n    });\n\n    return object;\n  },\n\n  set (path, value) {\n    path = this.__templateGetPathAsArray(path);\n\n    let oldValue = this.get(path);\n\n    if (value === oldValue) {\n      return;\n    }\n\n    let object = this;\n\n    path.slice(0, -1).forEach(segment => {\n      if (!object) {\n        return;\n      }\n      if (object[segment] === undefined || object[segment] === null) {\n        object[segment] = {};\n      }\n\n      object = object[segment];\n    });\n\n    let property = path.slice(-1).pop();\n\n    object[property] = value;\n\n    this.notify(path, value);\n  },\n\n  notify (path, value) {\n    path = this.__templateGetPathAsString(path);\n\n    if (!this.__templateReady) {\n      if (this.__templateNotifyOnReady.indexOf(path) === -1) {\n        this.__templateNotifyOnReady.push(path);\n      }\n      return;\n    }\n\n    // try {\n    let binding = this.__templateGetBinding(path);\n    if (binding) {\n      if (typeof value === 'undefined') {\n        value = this.get(path);\n      }\n\n      binding.walkEffect(value);\n    }\n    // } catch (err) {\n    //   console.warn(`#notify caught error: ${err.message}\\n Stack trace: ${err.stack}`);\n    // }\n  },\n\n  __templateInitialize (template, host, marker) {\n    this.__templateId = nextId();\n    this.__templateBindings = {};\n    this.__templateHost = host || (template ? template.parentElement : null);\n    this.__templateMarker = marker;\n\n    this.__templateReady = false;\n    this.__templateNotifyOnReady = [];\n\n    if (!template) {\n      return;\n    }\n\n    // do below only if template is exists\n    this.__template = fixTemplate(template);\n    this.__templateChildNodes = [];\n\n    this.__templateFragment = document.importNode(this.__template.content, true);\n    this.__parseAnnotations();\n\n    if (marker) {\n      return;\n    }\n\n    if (this.__template.parentElement === this.__templateHost) {\n      // when template parent is template host, it means that template is specific template\n      // then use template as marker\n      this.__templateMarker = this.__template;\n    } else {\n      // when template is not child of host, put marker to host\n      this.__templateMarker = document.createComment(`marker-${this.__templateId}`);\n      this.__templateHost.appendChild(this.__templateMarker);\n    }\n  },\n\n  __templateRender (contentFragment) {\n    this.__templateReady = true;\n\n    if (!this.__template) {\n      return;\n    }\n\n    this.__templateNotifyOnReady.forEach(key => this.notify(key, this.get(key)));\n    this.__templateNotifyOnReady = [];\n\n    let fragment = this.__templateFragment;\n    this.__templateFragment = null;\n\n    if (contentFragment && contentFragment instanceof window.DocumentFragment) {\n      // try {\n      [].forEach.call(fragment.querySelectorAll('slot'), slot => {\n        let name = slotName(slot);\n        let parent = slot.parentElement || fragment;\n        let marker = document.createComment(`slot ${name}`);\n\n        parent.insertBefore(marker, slot);\n        parent.removeChild(slot);\n\n        if (name) {\n          let node = contentFragment.querySelectorAll(`[slot=\"${name}\"]`);\n          [].forEach.call(node, (node) => {\n            parent.insertBefore(node, marker);\n          });\n        } else {\n          parent.insertBefore(contentFragment, marker);\n        }\n      });\n    }\n\n    this.__templateMarker.parentElement.insertBefore(fragment, this.__templateMarker);\n  },\n\n  __templateUninitialize () {\n    this.__templateChildNodes.forEach(node => {\n      node.parentElement.removeChild(node);\n    });\n  },\n\n  __templateGetPathAsArray (path) {\n    // if (!path) {\n    //   throw new Error(`Unknown path ${path} to set to ${this.is}`);\n    // }\n\n    if (typeof path !== 'string') {\n      return path;\n    }\n\n    return path.split('.');\n  },\n\n  __templateGetPathAsString (path) {\n    if (typeof path === 'string') {\n      return path;\n    }\n\n    return path.join('.');\n  },\n\n  __parseAnnotations () {\n    this.__templateChildNodes = [ ...this.__templateFragment.childNodes ];\n\n    let len = this.__templateChildNodes.length;\n\n    for (let i = 0; i < len; i++) {\n      let node = this.__templateChildNodes[i];\n\n      switch (node.nodeType) {\n        case window.Node.ELEMENT_NODE:\n          this.__parseElementAnnotations(node);\n          break;\n        case window.Node.TEXT_NODE:\n          this.__parseTextAnnotations(node);\n          break;\n      }\n    }\n  },\n\n  __parseEventAnnotations (element, attrName) {\n    // bind event annotation\n    let attrValue = element.getAttribute(attrName);\n    let eventName = attrName.slice(1, -1);\n    // let eventName = attrName.substr(3);\n    if (eventName === 'tap') {\n      eventName = 'click';\n    }\n\n    let context = this;\n    let expr = Expr.getFn(attrValue, [], true);\n\n    this.on(eventName, element, evt => {\n      expr.invoke(context, { evt });\n    });\n  },\n\n  __parseAttributeAnnotations (element) {\n    // clone attributes to array first then foreach because we will remove\n    // attribute later if already processed\n    // this hack to make sure when attribute removed the attributes index doesnt shift.\n    let annotated = false;\n\n    let len = element.attributes.length;\n\n    for (let i = 0; i < len; i++) {\n      let attr = element.attributes[i];\n\n      let attrName = attr.name;\n\n      if (attrName.indexOf('(') === 0) {\n        this.__parseEventAnnotations(element, attrName);\n      } else {\n        // bind property annotation\n        annotated = this.__templateAnnotate(Expr.get(attr.value), Accessor.get(element, attrName)) || annotated;\n      }\n    }\n\n    return annotated;\n  },\n\n  __parseElementAnnotations (element) {\n    let annotated = false;\n\n    let scoped = element.__templateModel;\n\n    if (scoped) {\n      return annotated;\n    }\n\n    element.__templateModel = this;\n\n    if (element.attributes && element.attributes.length) {\n      annotated = this.__parseAttributeAnnotations(element) || annotated;\n    }\n\n    if (element.childNodes && element.childNodes.length) {\n      let childNodes = [].slice.call(element.childNodes);\n      let childNodesLength = childNodes.length;\n\n      for (let i = 0; i < childNodesLength; i++) {\n        annotated = this.__parseNodeAnnotations(childNodes[i]) || annotated;\n      }\n    }\n\n    [].forEach.call(element.getElementsByTagName('slot'), slot => {\n      [].forEach.call(slot.childNodes, node => {\n        annotated = this.__parseNodeAnnotations(node) || annotated;\n      });\n    });\n\n    return annotated;\n  },\n\n  __parseNodeAnnotations (node) {\n    switch (node.nodeType) {\n      case window.Node.TEXT_NODE:\n        return this.__parseTextAnnotations(node);\n      case window.Node.ELEMENT_NODE:\n        return this.__parseElementAnnotations(node);\n    }\n  },\n\n  __parseTextAnnotations (node) {\n    let expr = Expr.get(node.textContent);\n    let accessor = Accessor.get(node);\n    return this.__templateAnnotate(expr, accessor);\n  },\n\n  __templateAnnotate (expr, accessor) {\n    if (expr.type === 's') {\n      return false;\n    }\n\n    if (expr.constant) {\n      let val = expr.invoke(this);\n      accessor.set(val);\n      return false;\n    }\n\n    // annotate every paths\n    let annotation = new Annotation(this, expr, accessor);\n\n    if (expr.type === 'm') {\n      this.__templateGetBinding(expr.fn.name).annotations.push(annotation);\n    }\n\n    expr.vpaths.forEach(arg => this.__templateGetBinding(arg.name).annotations.push(annotation));\n\n    return true;\n  },\n\n  __templateGetBinding (path) {\n    let segments = path.split('.');\n    let bindings;\n    let binding;\n\n    for (let i = 0; i < segments.length; i++) {\n      let segment = segments[i];\n\n      bindings = binding ? binding.paths : this.__templateBindings;\n\n      if (!bindings[segment]) {\n        bindings[segment] = new Binding(this, segment);\n      }\n\n      binding = bindings[segment];\n    }\n\n    return binding;\n  },\n};\n\nT.Filter = Filter;\nT.Accessor = Accessor;\nT.Token = Token;\nT.Expr = Expr;\nT.Event = Event;\nT.deserialize = deserialize;\n\nwindow.T = T;\n\nexport default T;\n\n\n\n// WEBPACK FOOTER //\n// ../template-binding/src/index.js","import Token from './token';\nimport Filter from './filter';\n\nconst CACHE = {\n  's': {\n    '[': new Map(),\n    '{': new Map(),\n  },\n  'v': {\n    '[': new Map(),\n    '{': new Map(),\n  },\n};\n\nfunction _get (value, mode, type) {\n  let cache = CACHE[type][mode];\n  if (cache.has(value)) {\n    return cache.get(value);\n  }\n\n  let expr = new Expr(value, mode, type);\n  if (type !== 's') {\n    cache.set(value, expr);\n  }\n\n  return expr;\n}\n\nclass Expr {\n  static get CACHE () {\n    return CACHE;\n  }\n\n  static get (value, unwrapped) {\n    value = (value || '').trim();\n\n    if (unwrapped) {\n      return _get(value, '[', 'v');\n    }\n\n    let mode = value[0];\n    if ((mode === '[' || mode === '{') && value[1] === mode) {\n      value = value.slice(2, -2).trim();\n      return _get(value, mode, 'v');\n    }\n\n    return _get(value, '[', 's');\n  }\n\n  static getFn (value, args, unwrapped) {\n    return Expr.get(value.indexOf('(') === -1 ? `${value}(${args.join(', ')})` : value, unwrapped);\n  }\n\n  static rawTokenize (str) {\n    let count = 0;\n    let tokens = [];\n\n    while (str && count++ < 10) {\n      let matches = str.match(/^\\s*(\"[^\"]*\"|[^,]+),?/);\n\n      str = str.substr(matches[0].length);\n      tokens.push(matches[1].trim());\n    }\n\n    return tokens;\n  }\n\n  static tokenize (str) {\n    return Expr.rawTokenize(str).map(token => Token.get(token));\n  }\n\n  constructor (value, mode, type) {\n    // define base properties\n    this.mode = mode;\n    this.type = type;\n    this.name = '';\n    this.args = [];\n    this.filters = [];\n    this.value = value;\n\n    if (type === 's') {\n      return;\n    }\n\n    let tokens = value.split('|');\n    let token = tokens[0].trim();\n\n    this.filters = tokens.slice(1).map(word => {\n      return Filter.get(word.trim());\n    });\n\n    if (token.indexOf('(') < 0) {\n      this.type = 'p';\n      this.name = token;\n      this.args.push(Token.get(token));\n    } else {\n      // force mode to '[' when type is !p\n      this.mode = '[';\n      this.type = 'm';\n\n      let matches = token.match(/([^(]+)\\(([^)]*)\\)/);\n\n      this.name = matches[1].trim();\n      this.fn = Token.get(this.name);\n\n      this.args = Expr.tokenize(matches[2]);\n    }\n  }\n\n  get constant () {\n    return this.type !== 'm' && this.vpaths.length !== this.args.length;\n  }\n\n  get vpaths () {\n    if (!this._vpaths) {\n      let paths = [];\n      this.args.forEach(arg => {\n        if (arg.type === 'v' && paths.indexOf(arg.name) === -1) {\n          paths.push(arg);\n        }\n      });\n      this._vpaths = paths;\n    }\n\n    return this._vpaths;\n  }\n\n  invoke (context, otherArgs) {\n    if (this.type === 'p') {\n      let val = this.args[0].value(context, otherArgs);\n      return this.filters.reduce((val, filter) => filter.invoke(val), val);\n    }\n\n    let fn = this.fn.value(context, context.__templateHost);\n    if (typeof fn !== 'function') {\n      throw new Error(`Method is not eligible, ${context.__templateHost.nodeName || '$anonymous'}#${this.name}`);\n    }\n\n    let args = this.args.map(arg => {\n      return arg.value(context, otherArgs);\n    });\n\n    return fn.apply(context, args);\n  }\n}\n\nexport default Expr;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../template-binding/src/expr.js\n// module id = 8\n// module chunks = 0","class Binding {\n  constructor (context, model) {\n    this.context = context;\n    this.model = model;\n    this.paths = {};\n    this.annotations = [];\n  }\n\n  walkEffect (value) {\n    this.annotations.forEach(annotation => {\n      // try {\n      annotation.effect(value, this.model);\n      // } catch (err) {\n      //   console.error(`Error caught while walk effect annotation: ${annotation.expr ? annotation.expr.value : '#unknown'}\\n ${err.stack}`);\n      // }\n    });\n\n    Object.keys(this.paths).forEach(i => {\n      this.paths[i].walkEffect(value ? value[i] : undefined);\n    });\n  }\n}\n\nexport default Binding;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../template-binding/src/binding.js\n// module id = 9\n// module chunks = 0","class BaseAccessor {\n  static get (node, name) {\n    if (node && 'nodeType' in node) {\n      switch (node.nodeType) {\n        case window.Node.ELEMENT_NODE:\n          if (name.endsWith('$')) {\n            return new AttributeAccessor(node, name);\n          } else if (name === 'text') {\n            return new TextAccessor(node);\n          } else if (name === 'html') {\n            return new HTMLAccessor(node, name);\n          } else if (name === 'value' && node.nodeName === 'INPUT') {\n            return new ValueAccessor(node);\n          }\n\n          if (name.startsWith('class.')) {\n            return new ClassAccessor(node, name.split('.').splice(1).join('.'));\n          } else if (name.startsWith('style.')) {\n            return new StyleAccessor(node, name.split('.').splice(1).join('.'));\n          }\n\n          return new BaseAccessor(node, name);\n        case window.Node.TEXT_NODE:\n          if (node.parentElement && node.parentElement.nodeName === 'TEXTAREA') {\n            return new ValueAccessor(node.parentElement);\n          }\n\n          return new TextAccessor(node);\n        default:\n          throw new Error(`Unimplemented resolving accessor for nodeType: ${node.nodeType}`);\n      }\n    } else {\n      return new BaseAccessor(node, name);\n    }\n  }\n\n  constructor (node, name) {\n    this.node = node;\n    this.name = name;\n  }\n\n  set (value) {\n    if (typeof this.node.set === 'function') {\n      this.node.set(this.name, value);\n    } else {\n      this.node[this.name] = value;\n    }\n  }\n\n  get () {\n    if (typeof this.node.get === 'function') {\n      return this.node.get(this.name);\n    } else {\n      return this.node[this.name];\n    }\n  }\n}\n\nclass TextAccessor extends BaseAccessor {\n  constructor (node) {\n    super(node, 'textContent');\n  }\n\n  set (value) {\n    this.node.textContent = typeof value === 'undefined' ? '' : value;\n  }\n}\n\nclass ClassAccessor extends BaseAccessor {\n  set (value) {\n    if (value) {\n      this.node.classList.add(this.name);\n    } else {\n      this.node.classList.remove(this.name);\n    }\n  }\n\n  get () {\n    throw new Error('Unimplemented');\n  }\n}\n\nclass StyleAccessor extends BaseAccessor {\n  set (value) {\n    this.node.style[this.name] = value || '';\n  }\n\n  get () {\n    throw new Error('Unimplemented');\n  }\n}\n\nclass HTMLAccessor extends BaseAccessor {\n  set (value) {\n    this.node.innerHTML = typeof value === 'undefined' ? '' : value;\n  }\n\n  get () {\n    return this.node.innerHTML;\n  }\n}\n\nclass ValueAccessor extends BaseAccessor {\n  constructor (node) {\n    super(node, 'value');\n  }\n\n  set (value) {\n    if (document.activeElement !== this.node) {\n      super.set(typeof value === 'undefined' ? '' : value);\n    }\n  }\n}\n\nclass AttributeAccessor extends BaseAccessor {\n  constructor (node, name) {\n    super(node, name.slice(0, -1));\n  }\n\n  set (value) {\n    if (value) {\n      this.node.setAttribute(this.name, value);\n    } else {\n      this.node.removeAttribute(this.name);\n    }\n  }\n\n  get () {\n    return this.node.getAttribute(this.name);\n  }\n}\n\nexport default BaseAccessor;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../template-binding/src/accessor.js\n// module id = 10\n// module chunks = 0","class Annotation {\n  constructor (model, expr, accessor) {\n    this.model = model;\n    this.expr = expr;\n    this.accessor = accessor;\n  }\n\n  effect (value) {\n    if (this.accessor) {\n      let value = this.expr.invoke(this.model);\n      // FIXME implement composite annotation\n      this.accessor.set(value);\n    } else {\n      this.expr.invoke(this.model);\n    }\n  }\n}\n\nexport default Annotation;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../template-binding/src/annotation.js\n// module id = 11\n// module chunks = 0","class Filter {\n  constructor (name, callback, otherArgs) {\n    this.name = name;\n    this.callback = callback;\n    this.otherArgs = otherArgs;\n  }\n\n  invoke (val) {\n    let args = [val];\n    [].push.apply(args, this.otherArgs);\n    return this.callback.apply(null, args);\n  }\n\n  static put (name, callback) {\n    registry[name] = callback;\n  }\n\n  static get (name) {\n    let segments = name.split(':');\n    let args = segments.splice(1);\n    let key = segments.pop();\n    return new Filter(key, registry[key], args);\n  }\n}\n\nconst registry = {\n  required: (val) => {\n    if (val === undefined || val === null || val === '') {\n      throw new Error('Value is required');\n    }\n    return val;\n  },\n  upper: (val) => String.prototype.toUpperCase.call(val || ''),\n  lower: (val) => String.prototype.toLowerCase.call(val || ''),\n  not: (val) => !val,\n  slice: (val, begin, end) => Array.prototype.slice.call(val || [], begin, end),\n};\n\nexport default Filter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../template-binding/src/filter.js\n// module id = 12\n// module chunks = 0","const CACHE = new Map();\n\nclass Token {\n  static get CACHE () {\n    return CACHE;\n  }\n\n  static get (name) {\n    if (CACHE.has(name)) {\n      return CACHE.get(name);\n    }\n\n    let token = new Token(name);\n    CACHE.set(name, token);\n    return token;\n  }\n\n  constructor (name) {\n    this.name = name;\n    this._value = null;\n    this.type = 'v';\n\n    if (!this.name.match(/^[a-zA-Z_]/)) {\n      try {\n        this._value = JSON.parse(this.name);\n        this.type = 's';\n      } catch (err) {\n      }\n    }\n  }\n\n  value (context, others) {\n    context = context || window;\n\n    if (this.type === 's') {\n      return this._value;\n    }\n\n    let val = valueOf(context, this.name);\n    if (typeof val !== 'undefined') {\n      return val;\n    }\n\n    val = valueOf(others, this.name);\n    if (typeof val !== 'undefined') {\n      return val;\n    }\n\n    return;\n  }\n}\n\nfunction valueOf (context, key) {\n  if (context) {\n    return typeof context.get === 'function' ? context.get(key) : context[key];\n  }\n}\n\nexport default Token;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../template-binding/src/token.js\n// module id = 13\n// module chunks = 0","let _matcher;\nlet _level = 0;\nlet _id = 0;\nlet _handlers = {};\nlet _delegatorInstances = {};\n\nfunction _addEvent (delegator, type, callback) {\n    // blur and focus do not bubble up but if you use event capturing\n    // then you will get them\n  let useCapture = type === 'blur' || type === 'focus';\n  delegator.element.addEventListener(type, callback, useCapture);\n}\n\nfunction _cancel (e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\n/**\n * returns function to use for determining if an element\n * matches a query selector\n *\n * @returns {Function}\n */\nfunction _getMatcher (element) {\n  if (_matcher) {\n    return _matcher;\n  }\n\n  if (element.matches) {\n    _matcher = element.matches;\n    return _matcher;\n  }\n\n  if (element.webkitMatchesSelector) {\n    _matcher = element.webkitMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.mozMatchesSelector) {\n    _matcher = element.mozMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.msMatchesSelector) {\n    _matcher = element.msMatchesSelector;\n    return _matcher;\n  }\n\n  if (element.oMatchesSelector) {\n    _matcher = element.oMatchesSelector;\n    return _matcher;\n  }\n\n    // if it doesn't match a native browser method\n    // fall back to the delegator function\n  _matcher = EventDelegator.matchesSelector;\n  return _matcher;\n}\n\n/**\n * determines if the specified element matches a given selector\n *\n * @param {Node} element - the element to compare against the selector\n * @param {string} selector\n * @param {Node} boundElement - the element the listener was attached to\n * @returns {void|Node}\n */\nfunction _matchesSelector (element, selector, boundElement) {\n    // no selector means this event was bound directly to this element\n  if (selector === '_root') {\n    return boundElement;\n  }\n\n    // if we have moved up to the element you bound the event to\n    // then we have come too far\n  if (element === boundElement) {\n    return;\n  }\n\n    // if this is a match then we are done!\n  if (_getMatcher(element).call(element, selector)) {\n    return element;\n  }\n\n    // if this element did not match but has a parent we should try\n    // going up the tree to see if any of the parent elements match\n    // for example if you are looking for a click on an <a> tag but there\n    // is a <span> inside of the a tag that it is the target,\n    // it should still work\n  if (element.parentNode) {\n    _level++;\n    return _matchesSelector(element.parentNode, selector, boundElement);\n  }\n}\n\nfunction _addHandler (delegator, event, selector, callback) {\n  if (!_handlers[delegator.id]) {\n    _handlers[delegator.id] = {};\n  }\n\n  if (!_handlers[delegator.id][event]) {\n    _handlers[delegator.id][event] = {};\n  }\n\n  if (!_handlers[delegator.id][event][selector]) {\n    _handlers[delegator.id][event][selector] = [];\n  }\n\n  _handlers[delegator.id][event][selector].push(callback);\n}\n\nfunction _removeHandler (delegator, event, selector, callback) {\n    // if there are no events tied to this element at all\n    // then don't do anything\n  if (!_handlers[delegator.id]) {\n    return;\n  }\n\n    // if there is no event type specified then remove all events\n    // example: EventDelegator(element).off()\n  if (!event) {\n    for (let type in _handlers[delegator.id]) {\n      if (_handlers[delegator.id].hasOwnProperty(type)) {\n        _handlers[delegator.id][type] = {};\n      }\n    }\n    return;\n  }\n\n    // if no callback or selector is specified remove all events of this type\n    // example: EventDelegator(element).off('click')\n  if (!callback && !selector) {\n    _handlers[delegator.id][event] = {};\n    return;\n  }\n\n    // if a selector is specified but no callback remove all events\n    // for this selector\n    // example: EventDelegator(element).off('click', '.sub-element')\n  if (!callback) {\n    delete _handlers[delegator.id][event][selector];\n    return;\n  }\n\n    // if we have specified an event type, selector, and callback then we\n    // need to make sure there are callbacks tied to this selector to\n    // begin with.  if there aren't then we can stop here\n  if (!_handlers[delegator.id][event][selector]) {\n    return;\n  }\n\n    // if there are then loop through all the callbacks and if we find\n    // one that matches remove it from the array\n  for (let i = 0; i < _handlers[delegator.id][event][selector].length; i++) {\n    if (_handlers[delegator.id][event][selector][i] === callback) {\n      _handlers[delegator.id][event][selector].splice(i, 1);\n      break;\n    }\n  }\n}\n\nfunction _handleEvent (id, e, type) {\n  if (!_handlers[id][type]) {\n    return;\n  }\n\n  let target = e.target || e.srcElement;\n  let selector;\n  let match;\n  let matches = {};\n  let i = 0;\n  let j = 0;\n\n    // find all events that match\n  _level = 0;\n  for (selector in _handlers[id][type]) {\n    if (_handlers[id][type].hasOwnProperty(selector)) {\n      match = _matchesSelector(target, selector, _delegatorInstances[id].element);\n\n      if (match && EventDelegator.matchesEvent(type, _delegatorInstances[id].element, match, selector === '_root', e)) {\n        _level++;\n        _handlers[id][type][selector].match = match;\n        matches[_level] = _handlers[id][type][selector];\n      }\n    }\n  }\n\n    // stopPropagation() fails to set cancelBubble to true in Webkit\n    // @see http://code.google.com/p/chromium/issues/detail?id=162270\n  e.stopPropagation = function () {\n    e.cancelBubble = true;\n  };\n\n  for (i = 0; i <= _level; i++) {\n    if (matches[i]) {\n      for (j = 0; j < matches[i].length; j++) {\n        if (matches[i][j].call(matches[i].match, e) === false) {\n          EventDelegator.cancel(e);\n          return;\n        }\n\n        if (e.cancelBubble) {\n          return;\n        }\n      }\n    }\n  }\n}\n\nlet id = 0;\nfunction nextId () {\n  return id++;\n}\n\nconst aliases = new Map();\nconst aliasesDefaultTranslator = name => ([ name ]);\nconst aliasesTranslators = {\n  transitionend (name) {\n    let el = document.createElement('fakeelement');\n    let transitions = {\n      'OTransition': 'oTransitionEnd',\n      'MozTransition': 'transitionend',\n      'WebkitTransition': 'webkitTransitionEnd',\n      'transition': 'transitionend',\n    };\n\n    for (let t in transitions) {\n      if (el.style[t] !== undefined) {\n        return [transitions[t]];\n      }\n    }\n  },\n};\n\nfunction _aliases (name) {\n  let theAliases;\n  if (aliases.has(name)) {\n    theAliases = aliases.get(name);\n  } else {\n    let translator = aliasesTranslators[name] || aliasesDefaultTranslator;\n    theAliases = translator(name);\n    aliases.set(name, theAliases);\n  }\n\n  return theAliases;\n}\n\n/**\n * binds the specified events to the element\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @param {boolean=} remove\n * @returns {Object}\n */\nfunction _bind (events, selector, callback, remove) {\n    // fail silently if you pass null or undefined as an alement\n    // in the EventDelegator constructor\n  if (!this.element) {\n    return;\n  }\n\n  if (!(events instanceof Array)) {\n    events = [events];\n  }\n\n  if (!callback && typeof (selector) === 'function') {\n    callback = selector;\n    selector = '_root';\n  }\n\n  if (selector instanceof window.HTMLElement) {\n    let id;\n    if (selector.hasAttribute('xin-event-id')) {\n      id = selector.getAttribute('xin-event-id');\n    } else {\n      id = nextId();\n      selector.setAttribute('xin-event-id', id);\n    }\n    selector = `[xin-event-id=\"${id}\"]`;\n  }\n\n  let id = this.id;\n  let i;\n\n  function _getGlobalCallback (type) {\n    return function (e) {\n      _handleEvent(id, e, type);\n    };\n  }\n\n  for (i = 0; i < events.length; i++) {\n    _aliases(events[i]).forEach(alias => {\n      // console.info('> ' + events[i] + ':' + alias);\n      if (remove) {\n        _removeHandler(this, alias, selector, callback);\n        return;\n      }\n\n      if (!_handlers[id] || !_handlers[id][alias]) {\n        EventDelegator.addEvent(this, alias, _getGlobalCallback(alias));\n      }\n\n      _addHandler(this, alias, selector, callback);\n    });\n  }\n\n  return this;\n}\n\n/**\n * EventDelegator object constructor\n *\n * @param {Node} element\n */\nfunction EventDelegator (element, id) {\n    // called as function\n  if (!(this instanceof EventDelegator)) {\n        // only keep one EventDelegator instance per node to make sure that\n        // we don't create a ton of new objects if you want to delegate\n        // multiple events from the same node\n        //\n        // for example: EventDelegator(document).on(...\n    for (let key in _delegatorInstances) {\n      if (_delegatorInstances[key].element === element) {\n        return _delegatorInstances[key];\n      }\n    }\n\n    _id++;\n    _delegatorInstances[_id] = new EventDelegator(element, _id);\n\n    return _delegatorInstances[_id];\n  }\n\n  this.element = element;\n  this.id = id;\n}\n\n/**\n * adds an event\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @returns {Object}\n */\nEventDelegator.prototype.on = function (events, selector, callback) {\n  return _bind.call(this, events, selector, callback);\n};\n\n/**\n * removes an event\n *\n * @param {string|Array} events\n * @param {string} selector\n * @param {Function} callback\n * @returns {Object}\n */\nEventDelegator.prototype.off = function (events, selector, callback) {\n  return _bind.call(this, events, selector, callback, true);\n};\n\nEventDelegator.prototype.fire = function (type, detail, options) {\n  options = options || {};\n  detail = detail || {};\n\n  let evt;\n  let bubbles = options.bubbles === undefined ? true : options.bubbles;\n  let cancelable = Boolean(options.cancelable);\n\n  switch (type) {\n    case 'click':\n      evt = new window.Event(type, {\n        bubbles: bubbles,\n        cancelable: cancelable,\n      });\n\n      // TODO check if without this works on every browsers\n      // evt = document.createEvent('HTMLEvents');\n      // evt.initEvent(type, true, false);\n      break;\n    default:\n      evt = new window.CustomEvent(type, {\n        bubbles: Boolean(bubbles),\n        cancelable: cancelable,\n        detail: detail,\n      });\n      break;\n  }\n\n  this.element.dispatchEvent(evt);\n\n  return evt;\n};\n\nEventDelegator.matchesSelector = function () {};\nEventDelegator.cancel = _cancel;\nEventDelegator.addEvent = _addEvent;\nEventDelegator.aliases = _aliases;\nEventDelegator.matchesEvent = function () {\n  return true;\n};\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = EventDelegator;\n}\n\nexport default EventDelegator;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../template-binding/src/event.js\n// module id = 14\n// module chunks = 0","function serialize (value) {\n  switch (typeof value) {\n    case 'boolean':\n      return value ? '' : undefined;\n\n    case 'object':\n      if (value instanceof Date) {\n        return value;\n      } else if (value instanceof RegExp) {\n        return value.toString().slice(1, -1);\n      } else if (value) {\n        try {\n          return JSON.stringify(value);\n        } catch (err) {\n          return '';\n        }\n      }\n      break;\n    default:\n      // noop\n  }\n  return value === null ? undefined : value;\n}\n\nfunction deserialize (value, type) {\n  switch (type) {\n    case Number:\n      value = Number(value);\n      break;\n\n    case Boolean:\n      value = Boolean(value === '' || value === 'true' || value === '1' || value === 'on');\n      break;\n\n    case Object:\n      try {\n        value = JSON.parse(value);\n      } catch (err) {\n        // allow non-JSON literals like Strings and Numbers\n        // console.warn('Failed decode json: \"' + value + '\" to Object');\n      }\n      break;\n\n    case Array:\n      try {\n        value = JSON.parse(value);\n      } catch (err) {\n        // .console.warn('Failed decode json: \"' + value + '\" to Array');\n        value = null;\n      }\n      break;\n\n    case Date:\n      value = new Date(value);\n      break;\n\n    case RegExp:\n      value = new RegExp(value);\n      break;\n\n    case Function:\n      value = new Function(value); // eslint-disable-line\n      break;\n\n    // behave like default for now\n    // case String:\n    default:\n      break;\n  }\n  return value;\n}\n\nexport { serialize, deserialize };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../template-binding/src/serializer.js\n// module id = 15\n// module chunks = 0","const requestAnimationFrame = window.requestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  window.oRequestAnimationFrame ||\n  window.msRequestAnimationFrame;\n\nconst cancelAnimationFrame = window.cancelAnimationFrame ||\n  window.webkitCancelRequestAnimationFrame ||\n  window.webkitCancelAnimationFrame ||\n  window.mozCancelRequestAnimationFrame || window.mozCancelAnimationFrame ||\n  window.oCancelRequestAnimationFrame || window.oCancelAnimationFrame ||\n  window.msCancelRequestAnimationFrame || window.msCancelAnimationFrame;\n\nlet id = 0;\nfunction nextId () {\n  return id++;\n}\n\nclass Async {\n  static nextFrame (callback) {\n    return requestAnimationFrame(callback);\n    // requestAnimationFrame(() => {\n    // });\n  }\n\n  static run (context, callback, wait) {\n    let asyncO = new Async(context);\n    asyncO.start(callback, wait);\n    return asyncO;\n  }\n\n  constructor (context) {\n    this.id = nextId();\n    this.context = context;\n    this.handle = null;\n    this.frameHandle = null;\n    this.cleared = true;\n  }\n\n  start (callback, wait) {\n    if (typeof callback !== 'function') {\n      throw new Error('Async should specify function');\n    }\n\n    if (!this.cleared) {\n      throw new Error('Async already run');\n    }\n\n    this.cleared = false;\n\n    wait = wait || 0;\n\n    let self = this;\n    let context = this.context;\n    let boundCallback = function () {\n      self.frameHandle = requestAnimationFrame(() => {\n        self.__clear();\n        callback.call(context);\n      });\n    };\n\n    if (wait) {\n      this.handle = setTimeout(boundCallback, wait);\n    } else {\n      boundCallback();\n    }\n  }\n\n  __clear () {\n    this.cleared = true;\n\n    cancelAnimationFrame(~~this.frameHandle);\n    clearTimeout(~~this.handle);\n    this.handle = this.frameHandle = null;\n  }\n\n  cancel () {\n    this.__clear();\n  }\n};\n\nexport default Async;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../xin/src/async.js\n// module id = 16\n// module chunks = 0","import Async from './async';\n\nclass Debounce {\n  constructor (context, immediate) {\n    this.context = context;\n    this.immediate = Boolean(immediate);\n    this.async = null;\n    this.running = false;\n  }\n\n  start (callback, wait) {\n    if (this.immediate) {\n      throw new Error('Unimplemented yet!');\n    }\n\n    this.running = true;\n    this.async = new Async(this.context);\n    this.async.start(() => {\n      callback.call(this.context);\n      this.running = false;\n      this.async = null;\n    }, wait);\n  }\n\n  cancel () {\n    this.running = false;\n    this.async.cancel();\n    this.async = null;\n  }\n}\n\nexport default Debounce;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../xin/src/debounce.js\n// module id = 17\n// module chunks = 0"],"sourceRoot":""}